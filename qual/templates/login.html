{% extends "base.html" %}

{% block content %}
<div class="col-md-6 col-md-offset-3">
	<h1>Login</h1>
	<hr></hr>
	{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
			{% for category, message in messages %}
				<div class="alert alert-{{ category }}">{{ message }}</div>
			{% endfor %}
		{% endif %}
	{% endwith %}
	{% macro error_field(field) %}
		{% if field.errors %}
			{% for error in field.errors %}
				<div class="alert alert-danger">{{ field.label }}: {{ error }}</div>
			{% endfor %}
		{% endif %}
	{% endmacro %}
	{{ error_field(form.username) }}
	{{ error_field(form.password) }}
	<form action="" method="post" name="login" class="form-horizontal">
		{{ form.hidden_tag() }}
		<div class="form-group">
			<label class="col-sm-2 form-label">Username</label>
			<div class="col-sm-10 full-width">{{ form.username(autofocus=true) }}</div>
		</div>
		<div class="form-group">
			<label class="col-sm-2 form-label">Password</label>
			<div class="col-sm-10 full-width">{{ form.password() }}</div>
		</div>
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<button type="submit" class="btn btn-default">Log in</button>
			</div>
		</div>
	</form>
</div>
{% endblock %}
